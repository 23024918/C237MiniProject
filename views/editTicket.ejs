<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Update Ticket</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body {
      background-color: #f8f9fa;
    }

    .sidebar {
      width: 120px;
      height: 100vh;
      background-color: #d9d9d9;
      position: fixed;
      top: 0;
      left: 0;
      padding-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .sidebar a {
      width: 80px;
      height: 80px;
      margin: 10px 0;
      background-color: #c4c4c4;
      color: black;
      text-align: center;
      line-height: 80px;
      text-decoration: none;
      border-radius: 10px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    .sidebar a:hover {
      background-color: #b0b0b0;
    }

    .sidebar a:first-child {
      background-color: black;
      color: white;
    }

    .main-content {
      margin-left: 120px;
      padding: 40px;
    }

    form input[type="text"],
    form input[type="date"],
    form input[type="time"],
    form input[type="number"],
    form input[type="file"] {
      width: 100%;
      max-width: 500px;
      padding: 10px;
      margin: auto;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    form button {
      background-color: black;
      color: white;
      font-weight: bold;
      padding: 10px 30px;
      border: none;
      border-radius: 5px;
      margin-top: 20px;
    }

    .form-section {
      max-width: 600px;
      margin: auto;
    }

    .form-section img {
      margin-top: 10px;
      max-width: 200px;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
    }

    a.back-link {
      display: inline-block;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <a href="/">Home</a>
    <a href="/contact">Contact</a>
    <a href="/feedback">Feedback</a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <h2>Update Ticket</h2>
    <div class="form-section">
      <% if (ticket) { %> 
        <form action="/editTicket/<%= ticket.id %>" method="POST" enctype="multipart/form-data">
          <label for="airline_name">Airline Name:</label><br>
          <input type="text" id="airline_name" name="airline_name" value="<%= ticket.airline_name %>" required><br><br>

          <label for="departure_city">Departure City:</label><br>
          <input type="text" id="departure_city" name="departure_city" value="<%= ticket.departure_city %>" required><br><br>

          <label for="arrival_city">Arrival City:</label><br>
          <input type="text" id="arrival_city" name="arrival_city" value="<%= ticket.arrival_city %>" required><br><br>

          <label for="departure_date">Departure Date:</label><br>
          <input type="date" id="departure_date" name="departure_date" value="<%= ticket.departure_date.toLocaleDateString('en-CA') %>" required><br><br>

          <label for="departure_time">Departure Time:</label><br>
          <input type="time" id="departure_time" name="departure_time" min="0" step="1" value="<%= ticket.departure_time %>" required><br><br>

          <label for="arrival_date">Arrival Date:</label><br>
          <input type="date" id="arrival_date" name="arrival_date" value="<%= ticket.arrival_date.toLocaleDateString('en-CA') %>" required><br><br>

          <label for="arrival_time">Arrival Time:</label><br>
          <input type="time" id="arrival_time" name="arrival_time" min="0" step="1" value="<%= ticket.arrival_time %>" required><br><br>

          <label for="referral_url">Referral URL:</label><br>
          <input type="text" id="referral_url" name="referral_url" value="<%= ticket.referral_url %>" required><br><br>

          <label for="price">Price:</label><br>
          <input type="number" id="price" name="price" min="0" step="0.01" value="<%= ticket.price %>" required><br><br>

          <label for="airline_logo">Airline Logo:</label><br>
          <input type="file" id="airline_logo" name="airline_logo" accept="image/*"><br>
          <% if (ticket.airline_logo) { %>
            <img src="/images/<%= ticket.airline_logo %>" alt="Current Logo"><br>
            <small>Upload a new image to replace the existing one.</small>
          <% } %>

          <br>
          <button type="submit">Update Ticket</button>
        </form>
      <% } else { %>
        <p>No ticket found.</p>
      <% } %>
      <a href="/" class="back-link">‚Üê Back</a>
    </div>
  </div>
</body>
</html>

<!-- Tan Ye Kai 23024918 -->